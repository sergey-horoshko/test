import{v as o,s as r,x as i}from"./index-Ca4wjZwH.js";import{s}from"./request-BAP1f-9B.js";function n(){return s({url:"/profile/",method:"get"})}function a(){return s({url:"/auth/logout/",method:"post"})}const m=o("me",{state:()=>({user:null,permissions:null}),actions:{setUser(e){this.user=e},setToken(e){r(e)},removeToken(){i()},async getProfile(){const e=await n();e&&this.setUser(e)},async logOut(e){if(!e){const t=document.getElementById("spinner");t==null||t.classList.remove("-hide"),await a(),t==null||t.classList.add("-hide")}this.setUser(null),this.removeToken(),this.$reset(),window.location.reload()}},persist:!0});export{m as u};
