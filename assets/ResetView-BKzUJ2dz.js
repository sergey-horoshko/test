import{b as y,d as $,j as _,k as h,y as k,l as I,r as i,c as f,e as b,g as n,t as l,f as d,w as v,m as V,n as x,p as F,q as S}from"./index-CSIFBmTv.js";import{u as C}from"./index-DnsCbtSd.js";import{a as B,t as P}from"./request-nPLIoLLS.js";import{r as N,e as j}from"./i18n-validators-CZN2Nsaq.js";import{r as E}from"./reset-BiFm_yJL.js";const T=$({setup(){const e=_(!0),t=h({email:""}),{t:a}=k(),p=I(()=>({email:{required:N,email:j}})),r=C(p,t);return{typePassword:e,form:t,v:r,validate:({prop:s})=>{const o=r.value.$errors.find(u=>u.$property===s);return o&&o.$message},onSubmit:async()=>{if(r.value.$touch(),!t.pending&&await r.value.$validate()){t.pending=!0;try{const s={email:t.email.toLowerCase()},o=await E(s);o!=null&&o.message&&B({title:a("successForm.success"),body:a("successForm.resetPassword")})}catch{P({title:a("errorForm.error"),body:a("errorForm.resetPassword")})}finally{t.pending=!1}}}}}}),q={class:"rounded-lg p-5 md:bg-white md:p-12 md:shadow-xl dark:md:bg-dark-content"},z={class:"flex w-full items-center justify-between gap-3"},M={class:"text-2xl font-bold"},R={class:"mt-1"},D={class:"flex flex-col"},L={class:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-300"},U={key:0,class:"invalid mt-1 text-red-400"};function A(e,t,a,p,r,g){const c=i("router-link"),s=i("InputIcon"),o=i("InputText"),u=i("IconField"),w=i("Button");return f(),b("div",q,[n("div",z,[n("span",M,l(e.$t("reset.title")),1),d(c,{class:"font-semibold text-blue-600 dark:text-blue-500",to:"/auth"},{default:v(()=>[V(l(e.$t("reset.auth")),1)]),_:1})]),n("div",R,l(e.$t("reset.description")),1),n("form",{onSubmit:t[2]||(t[2]=S((...m)=>e.onSubmit&&e.onSubmit(...m),["prevent"])),class:"mt-8"},[n("div",D,[n("label",L,l(e.$t("form.labelEmail")),1),d(u,{iconPosition:"left"},{default:v(()=>[d(s,{class:"pi pi-envelope"}),d(o,{modelValue:e.form.email,"onUpdate:modelValue":t[0]||(t[0]=m=>e.form.email=m),modelModifiers:{trim:!0},onFocus:t[1]||(t[1]=m=>e.v.$reset()),invalid:!!e.validate({prop:"email"}),type:"text",size:"large"},null,8,["modelValue","invalid"])]),_:1}),e.validate({prop:"email"})?(f(),b("div",U,l(e.validate({prop:"email"})),1)):x("",!0)]),d(w,{class:F([{"-loading":e.form.pending},"justify-content-center mt-6 flex w-full bg-blue-600 p-4 text-center text-white"]),loading:e.form.pending,label:e.form.pending?"":e.$t("form.buttonReset"),rounded:"",type:"submit"},null,8,["class","loading","label"])],32)])}const Q=y(T,[["render",A]]);export{Q as default};
