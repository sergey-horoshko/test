import{b as h,d as v,j as p,o as y,A as b,r as m,c as o,e as a,g as i,t as n,f as g,F as x,z as k,n as _,B as w,h as T,w as S,p as E}from"./index-D0RtDb04.js";const P=v({setup(){const e=p(!1),s=p(!1),d=p([]),f=w("dayjs"),u=()=>{e.value||(e.value=!0,setTimeout(()=>{const t=[{id:1,icon:"pi-star",title:"Празднуем 2 года компании OPES",description:"20 ноября 2024 мы отмечаем 2 года компании OPES. Заполните заявку и получите персональное приглашение.",date:"2024-05-04T23:40:47+0000",read:!1},{id:2,icon:"pi-calendar",title:"Завершение локапа",description:"02 июня 2024 в 00:00 локап L-000000002 будет закрыт.",date:"2024-05-20T23:40:47+0000",read:!1},{id:3,icon:"pi-bolt",title:"Срочно смените пароль",description:"Настоятельно рекомендуем заменить текущий пароль.",date:"2024-06-04T23:40:47+0000",read:!0},{id:4,icon:"pi-exclamation-circle",title:"Добавлена темная тема",description:"Изменить тему оформления можно в Настройках.",date:"2024-05-04T23:40:47+0000",read:!0},{id:5,icon:"pi-star",title:"Празднуем 2 года компании OPES",description:"20 ноября 2024 мы отмечаем 2 года компании OPES. Заполните заявку и получите персональное приглашение.",date:"2024-05-04T23:40:47+0000",read:!1},{id:6,icon:"pi-calendar",title:"Завершение локапа",description:"02 июня 2024 в 00:00 локап L-000000002 будет закрыт.",date:"2024-05-20T23:40:47+0000",read:!1},{id:7,icon:"pi-bolt",title:"Срочно смените пароль",description:"Настоятельно рекомендуем заменить текущий пароль.",date:"2024-06-04T23:40:47+0000",read:!1},{id:8,icon:"pi-exclamation-circle",title:"Добавлена темная тема",description:"Изменить тему оформления можно в Настройках.",date:"2024-05-04T23:40:47+0000",read:!1}];d.value=t,e.value=!1},1e3))},c=()=>{s.value=!0,setTimeout(()=>{const t=[{id:1,icon:"pi-star",title:"Празднуем 2 года компании OPES",description:"20 ноября 2024 мы отмечаем 2 года компании OPES. Заполните заявку и получите персональное приглашение.",date:"2024-05-04T23:40:47+0000",read:!1},{id:2,icon:"pi-calendar",title:"Завершение локапа",description:"02 июня 2024 в 00:00 локап L-000000002 будет закрыт.",date:"2024-05-20T23:40:47+0000",read:!1},{id:3,icon:"pi-bolt",title:"Срочно смените пароль",description:"Настоятельно рекомендуем заменить текущий пароль.",date:"2024-06-04T23:40:47+0000",read:!1},{id:4,icon:"pi-exclamation-circle",title:"Добавлена темная тема",description:"Изменить тему оформления можно в Настройках.",date:"2024-05-04T23:40:47+0000",read:!1},{id:5,icon:"pi-star",title:"Празднуем 2 года компании OPES",description:"20 ноября 2024 мы отмечаем 2 года компании OPES. Заполните заявку и получите персональное приглашение.",date:"2024-05-04T23:40:47+0000",read:!1},{id:6,icon:"pi-calendar",title:"Завершение локапа",description:"02 июня 2024 в 00:00 локап L-000000002 будет закрыт.",date:"2024-05-20T23:40:47+0000",read:!1},{id:7,icon:"pi-bolt",title:"Срочно смените пароль",description:"Настоятельно рекомендуем заменить текущий пароль.",date:"2024-06-04T23:40:47+0000",read:!1},{id:8,icon:"pi-exclamation-circle",title:"Добавлена темная тема",description:"Изменить тему оформления можно в Настройках.",date:"2024-05-04T23:40:47+0000",read:!1}];d.value=[...t],s.value=!1},3e3)},l=()=>{},r=()=>{const t=document.body;s.value||t.getBoundingClientRect().bottom-window.innerHeight<40&&c()};return y(()=>{u(),window.addEventListener("scroll",r)}),b(()=>{window.removeEventListener("scroll",r)}),{readAll:l,getMore:c,dayjs:f,notifications:d,pending:e,pendingMore:s}}}),$={class:"min-h-96 rounded-lg p-5 md:bg-white md:p-12 md:shadow-xl dark:md:bg-dark-content"},j={class:"flex w-full items-center justify-between gap-3"},O={class:"text-2xl font-bold"},C={class:"mt-1 leading-5"},L={key:0,class:"mt-12 flex items-center justify-center"},B={class:"mt-8 flex flex-col gap-4"},M={class:"flex w-full flex-col"},A={class:"font-bold"},D={class:"mt-2 text-xs font-medium text-gray-500 dark:text-gray-300"},N={class:"mt-2 flex items-center justify-between"},V={class:"text-xs text-gray-400 dark:text-gray-300"},z={class:"text-xs font-medium text-blue-600 dark:text-blue-500"},F={key:0,class:"absolute right-4 top-4 max-h-2 min-h-2 min-w-2 max-w-2 rounded-full bg-red-500"},H={key:0,class:"mt-12 flex items-center justify-center"};function R(e,s,d,f,u,c){const l=m("ProgressSpinner"),r=m("router-link");return o(),a("div",$,[i("div",j,[i("span",O,n(e.$t("notification.title")),1),i("div",{onClick:s[0]||(s[0]=(...t)=>e.readAll&&e.readAll(...t)),class:"cursor-pointer font-semibold text-blue-600 dark:text-blue-500"},n(e.$t("notification.readAll")),1)]),i("div",C,n(e.$t("notification.description")),1),e.pending?(o(),a("div",L,[g(l)])):(o(),a(x,{key:1},[i("div",B,[(o(!0),a(x,null,k(e.notifications,t=>(o(),T(r,{key:t.id,to:`/notification/${t.id}`,class:"relative flex gap-3 rounded-lg bg-gray-100 p-4 pl-2 dark:bg-dark"},{default:S(()=>[i("i",{style:{"font-size":"1.2rem"},class:E(["text-gray-500 dark:text-gray-300",`pi ${t.icon}`])},null,2),i("div",M,[i("div",A,n(t.title),1),i("div",D,n(t.description),1),i("div",N,[i("span",V,n(e.dayjs(t.date).format("DD.MM")),1),i("span",z,n(e.$t("form.more")),1)])]),t.read?_("",!0):(o(),a("div",F))]),_:2},1032,["to"]))),128))]),e.pendingMore?(o(),a("div",H,[g(l,{style:{width:"50px",height:"50px"}})])):_("",!0)],64))])}const q=h(P,[["render",R]]);export{q as default};
